(function(t){function e(e){for(var o,s,r=e[0],l=e[1],c=e[2],d=0,p=[];d<r.length;d++)s=r[d],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&p.push(a[s][0]),a[s]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o]);u&&u(e);while(p.length)p.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],o=!0,r=1;r<n.length;r++){var l=n[r];0!==a[l]&&(o=!1)}o&&(i.splice(e--,1),t=s(s.s=n[0]))}return t}var o={},a={app:0},i=[];function s(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=o,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(n,o,function(e){return t[e]}.bind(null,o));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var u=l;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";n("85ec")},5012:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("v-main",[n("router-view")],1)],1)},i=[],s={name:"App",data:function(){return{}}},r=s,l=(n("034f"),n("2877")),c=n("6544"),u=n.n(c),d=n("7496"),p=n("f6c4"),g=Object(l["a"])(r,a,i,!1,null,null,null),h=g.exports;u()(g,{VApp:d["a"],VMain:p["a"]});var m=n("8c4f"),f=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"head-bar"},[o("div",{staticClass:"head-bar_left"},[o("img",{attrs:{src:n("cf05"),width:"40px"}}),o("p",{staticClass:"head-bar_time"},[t._v(t._s(t.time.join("-")))]),o("el-menu",{attrs:{mode:"horizontal"},on:{select:t.handleSelect}},[o("el-submenu",{staticClass:"sub",attrs:{index:"1"}},t._l(t.years,(function(e,n){return o("el-submenu",{key:n,attrs:{index:e.label}},[o("template",{slot:"title"},[t._v(t._s(e.label))]),o("el-menu-item",{attrs:{index:t.season[0]}},[t._v("Spring")]),o("el-menu-item",{attrs:{index:t.season[1]}},[t._v("Autumn")])],2)})),1)],1)],1),o("div",{staticClass:"location"},[o("el-button",{staticClass:"location-back",attrs:{circle:"",size:"mini",disabled:0===t.check},on:{click:t.backtoHome}},[o("i",{staticClass:"el-icon-caret-left"})]),o("p",[t._v(" 首页 ")]),t._v(" "),0!==t.check?o("p",[t._v(t._s("-"+t.tip))]):t._e()],1)]),o("div",{staticClass:"main"},[o("h1",[t._v("本次招新数据")]),0===t.check?o("div",t._l(t.groups,(function(e,n){return o("el-button",{key:n,staticClass:"group-button",class:t.colors[n],on:{click:function(e){return t.getStage(n)}}},[o("h2",[t._v(t._s(e.title))]),o("p",[t._v(t._s(e.count))])])})),1):t._e(),o("div",{staticClass:"procedure"},[1===t.check||2===t.check?o("div",{staticClass:"procedure-buttons"},[o("el-button",{staticClass:"group-button",class:-1===t.stageIndex?"selected":null,on:{click:function(e){return t.backtoGroupHome(t.groups[t.groupIndex-1])}}},[o("h2",[t._v("全部")]),o("p",[t._v(t._s(t.groups[t.groupIndex-1].count))])]),1!==t.check&&2!==t.check||!t.themes?t._e():o("div",{staticStyle:{display:"inline"}},[t._l(t.themes,(function(e,n){return o("el-button",{directives:[{name:"show",rawName:"v-show",value:n<=t.max&&n>=t.min,expression:"index<=max && index>=min"}],key:n,staticClass:"group-button",class:[t.colors[n],n===t.stageIndex?"selected":null],on:{click:function(e){return t.pickStage(n)}}},[o("h2",[t._v(t._s(e.theme))]),o("p",[t._v(t._s(e.count))])])})),t.themes.length>5?o("el-pagination",{staticClass:"procedure-switch",attrs:{layout:"prev, next","page-count":t.themes.length-4},on:{"next-click":t.nextItem,"prev-click":t.preItem}}):t._e()],2)],1):t._e(),1===t.check||2===t.check?o("div",{staticClass:"procedure-edit"},[o("el-button",{staticClass:"procedure-edit-button",nativeOn:{click:function(e){t.isShow=!t.isShow}}},[t._v("流程编辑")]),t.isShow?o("div",{staticClass:"procedure-edit-frame"},[o("el-scrollbar",[o("h1",{staticClass:"edit-header"},[t._v("编辑考核流程")]),o("el-button",{staticClass:"close-button",attrs:{type:"danger",icon:"el-icon-close",circle:"",size:"mini"},nativeOn:{click:function(e){t.isShow=!1}}}),o("ul",{staticClass:"edit-stage"},[t._l(t.themes,(function(e,n){return o("li",{key:n},[t._v(" "+t._s(e.theme)+" "),o("i",{staticClass:"el-icon-remove-outline remove-button",on:{click:function(e){return t.stageRemove(n)}}})])})),o("li",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.stageInput,expression:"stageInput"}],attrs:{type:"text"},domProps:{value:t.stageInput},on:{input:function(e){e.target.composing||(t.stageInput=e.target.value)}}}),o("i",{staticClass:"el-icon-circle-plus-outline remove-button",on:{click:t.stageAdd}})])],2)],1)],1):t._e()],1):t._e()]),o("el-card",{staticClass:"table"},[o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData},on:{"selection-change":t.handleSelectionChange}},[o("el-table-column",{attrs:{type:"selection",width:"55"}}),o("el-table-column",{attrs:{prop:"name",label:"姓名"}}),o("el-table-column",{attrs:{prop:"sex",label:"性别",width:"70"},scopedSlots:t._u([{key:"default",fn:function(e){return[2===e.row.sex?o("v-icon",{attrs:{color:"#17ABE3"}},[t._v("mdi-gender-male")]):o("v-icon",{attrs:{color:"#F27BA4"}},[t._v("mdi-gender-female")])]}}])}),o("el-table-column",{attrs:{prop:"grade",label:"年级",width:"70",formatter:t.gradeCheck}}),o("el-table-column",{attrs:{prop:"team",label:"组别",width:"80"}}),o("el-table-column",{attrs:{prop:"stage",label:"流程",width:"70"}}),o("el-table-column",{attrs:{prop:"major",label:"专业",width:"160"}}),o("el-table-column",{attrs:{prop:"qq_number",label:"QQ",width:"120"}}),o("el-table-column",{attrs:{prop:"phone_number",label:"电话",width:"120"}}),o("el-table-column",{attrs:{label:"报名材料",prop:"work_url"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("v-icon",{staticClass:"download",on:{click:function(n){return t.download(e.row.work_url)}}},[t._v("mdi-download")])]}}])})],1),o("div",{staticClass:"block"},[o("p",[t._v(t._s(t.currentPage+"/"+t.totalPages))]),o("el-pagination",{attrs:{layout:"prev, next",total:t.total,"current-page":t.currentPage,"page-size":10},on:{"next-click":t.nextPage,"prev-click":t.prePage}})],1)],1)],1),1===t.check||2===t.check?o("div",{staticClass:"left"},[o("el-button",{staticClass:"new-button",attrs:{icon:"el-icon-circle-plus",disabled:!t.newState},on:{click:function(e){t.popUp=!0}}},[t._v("更新状态")]),t.popUp?o("el-card",{staticClass:"new-card"},[o("el-radio-group",{on:{change:t.handleChange},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[o("el-radio",{attrs:{label:"pass"}},[t._v("通过")]),o("el-radio",{attrs:{label:"disuse"}},[t._v("淘汰")]),o("el-radio",{attrs:{label:"finalpass"}},[t._v("最终通过")])],1)],1):t._e(),t.textUp?o("div",[o("el-card",{staticClass:"new-text"},[o("div",{attrs:{slot:"header"},slot:"header"},[t._v(" 请调整短信内容 ")]),"pass"===t.radio?o("div",[o("div",{staticClass:"text1",domProps:{innerHTML:t._s(t.text1)}}),o("input",{directives:[{name:"model",rawName:"v-model",value:t.qq_input,expression:"qq_input"}],staticClass:"qq-input",attrs:{type:"text"},domProps:{value:t.qq_input},on:{input:function(e){e.target.composing||(t.qq_input=e.target.value)}}}),o("div",{domProps:{innerHTML:t._s(t.text2)}})]):o("div",[o("div",{domProps:{innerHTML:t._s(t.text)}})])]),o("el-button",{staticClass:"new-submit",on:{click:function(e){t.centerDialogVisible=!0}}},[t._v("发送")]),o("el-dialog",{attrs:{title:"短信发送确认",visible:t.centerDialogVisible,width:"30%",center:""},on:{"update:visible":function(e){t.centerDialogVisible=e}}},[o("span",[o("p",[t._v(" 您确认向以下"+t._s(t.candidateSelected.length)+"位同学："),o("br"),t._v(" "+t._s(t.candidateSelected_name.join(", "))),o("br"),t._v(" 发送信息吗？ ")])]),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{staticClass:"quit_button",on:{click:function(e){t.centerDialogVisible=!1}}},[t._v("取消")]),o("el-button",{staticClass:"submit_button",attrs:{loading:t.loading,disabled:!t.submitable},on:{click:t.submit}},[t._v("确定发送")])],1)])],1):t._e()],1):t._e()])},b=[],v=(n("159b"),n("b0c0"),n("fb6a"),n("ac1f"),n("1276"),n("d3b7"),n("bc3a")),_=n.n(v),x=n("5c96"),C=n.n(x),I=_.a.create({baseURL:"http://101.200.227.216:8888/api/manage"});I.interceptors.request.use((function(t){var e=window.localStorage.getItem("user");return e&&(t.headers.Authorization="Bearer ".concat(e)),t}),(function(t){return Promise.reject(t)})),I.interceptors.response.use((function(t){return t}),(function(t){return console.log(t.response.status),401==t.response.status&&void 0==sessionStorage.getItem("isLogOut")&&(sessionStorage.setItem("isLogOut",!0),x["MessageBox"].confirm("登录已过期，请重新登录！","提示",{confirmButtonText:"确定",showClose:!1,showCancelButton:!1,closeOnClickModal:!1,type:"warning"}).then((function(){sessionStorage.clear(),Q.push({path:"/login"})}))),Promise.reject(t)}));var w=I,S=function(t){return w({method:"GET",url:"/recruit/groupCount",params:t,headers:{"Content-Type":"application/json"}})},k=function(t){return w({method:"GET",url:"/recruit/stageCount",params:t,headers:{"Content-Type":"application/json"}})},y=function(t){return w({method:"GET",url:"/recruit/candidate",params:t,headers:{"Content-Type":"application/json"}})},P=function(t){return w({method:"DELETE",url:"/recruit/deleteStage",params:t,headers:{"Content-Type":"application/json"}})},F=function(t){return w({method:"POST",url:"/recruit/addStage",data:t,headers:{"Content-Type":"application/json"}})},T=function(t){return w({method:"GET",url:"/recruit/assessment/getTemplate",params:t})},q=function(t){return w({method:"POST",url:"/recruit/assessment/pass",data:t,headers:{"Content-Type":"application/json"}})},j=function(t){return w({method:"POST",url:"/recruit/assessment/finalPass",data:t,headers:{"Content-Type":"application/json"}})},O=function(t){return w({method:"POST",url:"/recruit/assessment/disuse",data:t,headers:{"Content-Type":"application/json"}})},E={name:"LayoutIndex",components:{},data:function(){return{radio:"",checkList:[],inputable:!1,newState:!1,centerDialogVisible:!1,total:0,currentPage:1,totalPages:0,check:0,max:4,min:0,tip:"",groupIndex:-1,stage:"",stageIndex:-1,stageInput:"",groups:[{title:"产品组",count:0},{title:"运营组",count:0},{title:"设计组",count:0},{title:"前端组",count:0},{title:"后端组",count:0},{title:"移动组",count:0}],themes:[{theme:"全部",count:0}],grades:["大一","大二","大三","大四","研一","研二","研五"],colors:["color1","color2","color3","color4","color5","color6"],time:["2021","Autumn"],tableData:[],years:[{label:"2021"},{label:"2022"},{label:"2023"},{label:"2024"},{label:"2025"},{label:"2026"},{label:"2027"}],season:["Spring","Autumn"],stages:["简历","笔试","群面","单面","通过"],isShow:!1,popUp:!1,textUp:!1,candidateSelected:[],candidateSelected_name:[],id:[],text:"",qq_input:"",loading:!1,submitable:!0}},methods:{handleSelect:function(t,e){this.check=0,this.tip="",this.groupIndex=-1,this.stage="",this.stageIndex=-1,this.time[0]=e[1],this.time[1]=e[2],this.getGroupInfo(),this.getCandidateInfo(this.groupIndex,0,this.stage)},getStage:function(t){this.check=1,this.groupIndex=t+1,this.getCandidateInfo(this.groupIndex,0,this.stage),this.getStageInfo(this.groupIndex),this.tip=this.groups[t].title},pickStage:function(t){this.check=2,console.log(t),this.stageIndex=t,this.stage=this.themes[this.stageIndex].theme,this.getCandidateInfo(this.groupIndex,0,this.stage)},download:function(t){window.location.href=t},nextItem:function(){this.max++,this.min++},preItem:function(){this.max--,this.min--},nextPage:function(){this.currentPage++,this.getCandidateInfo(this.groupIndex,10*(this.currentPage-1),this.stage)},prePage:function(){this.currentPage--,this.getCandidateInfo(this.groupIndex,10*(this.currentPage-1),this.stage)},backtoHome:function(){this.check=0,this.tip="",this.groupIndex=-1,this.stage="",this.stageIndex=-1,this.getGroupInfo(),this.getCandidateInfo(-1,0,"")},backtoGroupHome:function(t){this.check=1,this.stage="",this.currentPage=1,this.stageIndex=-1,this.getCandidateInfo(this.groupIndex,0,"")},handleSelectionChange:function(t){if(0===t.length)this.newState=!1,this.textUp=!1,this.popUp=!1,this.radio="";else{this.newState=!0,this.candidateSelected=t;var e=[],n=[];this.candidateSelected.forEach((function(t){e.push(t.id),n.push(t.name)})),this.candidateSelected_id=e,this.candidateSelected_name=n}},getCandidateInfo:function(t,e,n){var o=this,a={year:this.time[0],season:this.time[1],group:t,page_size:10,page_num:e,stage:n};y(a).then((function(t){0!=t.data.msg.length?(o.tableData=t.data.msg.slice(0,t.data.msg.length-1),o.total=t.data.msg[t.data.msg.length-1].total):(o.tableData=[],o.total=0),o.totalPages=Math.ceil(o.total/10)})).catch((function(t){console.log(t)}))},gradeCheck:function(t,e){return this.grades[t.grade-1]},getGroupInfo:function(){var t=this,e={year:this.time[0],season:this.time[1]};S(e).then((function(e){t.groups=e.data.msg})).catch((function(t){console.log(t.response.data)}))},getStageInfo:function(t){var e=this,n={year:this.time[0],season:this.time[1],group:t};k(n).then((function(t){e.themes=t.data.msg})).catch((function(t){console.log(t.response.data)}))},stageRemove:function(t){var e=this,n={year:this.time[0],season:this.time[1],group:this.groupIndex,stage:this.themes[t].theme};P(n).then((function(t){e.getStageInfo(e.groupIndex),e.min=0,e.max=4})).catch((function(t){console.log(t)}))},stageAdd:function(){var t=this,e={year:this.time[0],season:this.time[1],group:this.groupIndex,stage:this.stageInput};F(e).then((function(e){t.getStageInfo(t.groupIndex)})).catch((function(t){console.log(t)})),this.stageInput=""},handleChange:function(){var t=this;this.textUp=!0,T({template_id:this.radio}).then((function(e){console.log(e),t.text=e.data.msg})).catch((function(t){console.log(t)}))},submit:function(){var t=this;switch(this.loading=!0,this.submitable=!1,this.radio){case"pass":q({candidates_id:this.candidateSelected_id,qq_number:this.qq_input}).then((function(e){alert("短信发送成功！"),t.loading=!1,t.submitable=!0,t.getStageInfo(t.groupIndex),t.getCandidateInfo(t.groupIndex,0,t.stage)})).catch((function(e){alert("短信发送失败！"+e.response.data.msg),t.loading=!1,t.submitable=!0}));break;case"disuse":O({candidates_id:this.candidateSelected_id}).then((function(e){alert("短信发送成功！"),t.loading=!1,t.submitable=!0,t.getStageInfo(t.groupIndex),t.getCandidateInfo(t.groupIndex,0,t.stage)})).catch((function(e){alert("短信发送失败！"+e.response.data.msg),t.loading=!1,t.submitable=!0}));break;case"finalpass":j({candidates_id:this.candidateSelected_id}).then((function(e){alert("短信发送成功！"),t.loading=!1,t.submitable=!0,t.getStageInfo(t.groupIndex),t.getCandidateInfo(t.groupIndex,0,t.stage)})).catch((function(e){alert("短信发送失败！"+e.response.data.msg),t.loading=!1,t.submitable=!0}));break}}},created:function(){this.getGroupInfo(),this.getCandidateInfo(-1,0,"")},watch:{check:function(){this.currentPage=1,this.max=4,this.min=0,this.isShow=!1,this.popUp=!1,this.textUp=!1,this.stageInput="",this.newState=!1,this.candidateSelected_id=[],this.candidateSelected=[],this.candidates_name=[],this.qq_input="",this.radio="",this.centerDialogVisible=!1}},computed:{text1:function(){return this.text.split("{qq_number}")[0]},text2:function(){return this.text.split("{qq_number}")[1]}}},D=E,V=(n("d1df"),n("132d")),M=Object(l["a"])(D,f,b,!1,null,null,null),U=M.exports;u()(M,{VIcon:V["a"]});var A=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"center"},[t._m(0),o("img",{attrs:{src:n("fd4b")}}),o("div",{ref:"loginFormRef",staticClass:"login",attrs:{model:t.loginForm}},[o("div",{staticClass:"input"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.loginForm.phone_number,expression:"loginForm.phone_number"}],staticClass:"tel",attrs:{type:"text",placeholder:"电话",prop:"phone_number"},domProps:{value:t.loginForm.phone_number},on:{input:function(e){e.target.composing||t.$set(t.loginForm,"phone_number",e.target.value)}}}),o("input",{directives:[{name:"model",rawName:"v-model",value:t.loginForm.verification_code,expression:"loginForm.verification_code"}],staticClass:"code",attrs:{type:"text",placeholder:"验证码",prop:"verification_code"},domProps:{value:t.loginForm.verification_code},on:{input:function(e){e.target.composing||t.$set(t.loginForm,"verification_code",e.target.value)}}}),t.loginForm.showloginCode?o("button",{staticClass:"btn1",on:{click:t.sendVerifyCode}},[t._v("发送验证码")]):o("div",{staticClass:"btn2"},[t._v(" 再次发送（"+t._s(t.loginForm.count)+"S）")]),o("div",{staticClass:"tips"},[t._v(" "+t._s(t.message)+" ")])]),o("button",{staticClass:"log",on:{click:t.signIn}},[t._v("登 入")])]),o("div",{staticClass:"block"},[o("el-pagination",{attrs:{layout:"prev, pager, next",total:500}})],1),o("img",{staticClass:"logo",attrs:{src:n("5fbe")}})])},G=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"headbar"},[n("p",[t._v("Pivot Studio")]),n("p",{staticClass:"p1"},[t._v(" 招新系统")])])}],L=(n("25f0"),function(t){return w({method:"POST",url:"/sendVerifyCode",data:t})}),$=function(t){return w({method:"POST",url:"/signin",data:t})},H={name:"Login",components:{},data:function(){return{loginForm:{phone_number:"",verification_code:"",timer:null,showloginCode:!0,count:""},message:""}},methods:{handleSelect:function(t,e){console.log(t,e)},sendVerifyCode:function(){var t=this,e=new FormData;e.append("phone_number",this.loginForm.phone_number);L(e).then((function(e){console.log(e);var n=60;t.loginForm.timer||(t.loginForm.showloginCode=!1,t.loginForm.count=n,t.loginForm.timer=setInterval((function(){t.loginForm.count>0&&t.loginForm.count<=n?t.loginForm.count-=1:(t.loginForm.showloginCode=!0,clearInterval(t.loginForm.timer),t.loginForm.timer=null)}),1e3))})).catch((function(e){console.log(e.response.data),console.log(t.loginForm.phone_number),11!=t.loginForm.phone_number.toString().length?(t.message="*电话号码必须为11位",console.log(t.message)):(t.message="*对不起，您没有登录权限",console.log(t.message))}))},signIn:function(){var t=this,e=new FormData;e.append("phone_number",this.loginForm.phone_number),e.append("verification_code",this.loginForm.verification_code),$(e).then((function(e){window.localStorage.setItem("user",e.data.token),t.$router.push({name:"layout"})})).catch((function(e){console.log(e.response.data),t.message="*"+e.response.data.msg,console.log(t.loginForm.message)}))}}},z=H,B=(n("b7ba"),Object(l["a"])(z,A,G,!1,null,"1a9b97c5",null)),N=B.exports;o["default"].use(m["a"]);var R=[{path:"/",name:"layout",component:U},{path:"/login",name:"login",component:N}],J=new m["a"]({routes:R});J.beforeEach((function(t,e,n){var o=window.localStorage.getItem("user");"/login"!==t.path?o?n():n("/login"):n()}));var Q=J,K=n("f309");o["default"].use(K["a"]);var W=new K["a"]({});n("0fae");o["default"].use(C.a),o["default"].config.productionTip=!1,new o["default"]({router:Q,vuetify:W,render:function(t){return t(h)}}).$mount("#app")},"5fbe":function(t,e,n){t.exports=n.p+"img/logo2.9c449f9f.png"},"85ec":function(t,e,n){},b7ba:function(t,e,n){"use strict";n("ff64")},cf05:function(t,e,n){t.exports=n.p+"img/logo.eaefe470.png"},d1df:function(t,e,n){"use strict";n("5012")},fd4b:function(t,e,n){t.exports=n.p+"img/pic.23591276.png"},ff64:function(t,e,n){}});
//# sourceMappingURL=app.f5491537.js.map